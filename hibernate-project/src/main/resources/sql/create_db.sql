DROP TABLE HIBERNATE.T_USER2USER_DETAILS;
DROP TABLE HIBERNATE.T_USER_DETAILS;
DROP TABLE HIBERNATE.T_USERS;
DROP SEQUENCE HIBERNATE.USERS_SEQ;
DROP SEQUENCE HIBERNATE.USER_DETAILS_SEQ;

CREATE TABLE HIBERNATE.T_USERS (
  ID								NUMBER(15),
  NAME								VARCHAR2(100 CHAR),
  CONSTRAINT PK_USER PRIMARY KEY (ID)
);

CREATE TABLE HIBERNATE.T_USER_DETAILS (
  ID								NUMBER(15),
  USER_DETAIL_DETAILS						VARCHAR2(100 CHAR) NOT NULL,
  CONSTRAINT PK_UDETAILS PRIMARY KEY (ID)
);

CREATE TABLE HIBERNATE.T_USER2USER_DETAILS (
  ID_USER							NUMBER(15) NOT NULL,
  ID_USER_DETAIL							NUMBER(15) NOT NULL,
  CONSTRAINT UK_USER2USER_DETAIL UNIQUE (ID_USER_DETAIL),
  CONSTRAINT FK_USER2USER_DETAIL_USER FOREIGN KEY (ID_USER) REFERENCES T_USERS(ID) ENABLE,
  CONSTRAINT FK_USER2USER_DETAIL_USER_DETAIL FOREIGN KEY (ID_USER_DETAIL) REFERENCES T_USER_DETAILS(ID) ENABLE
);

CREATE SEQUENCE HIBERNATE.USERS_SEQ START WITH 1 INCREMENT BY 1 NOCACHE NOCYCLE;
CREATE SEQUENCE HIBERNATE.USER_DETAILS_SEQ START WITH 1 INCREMENT BY 1 NOCACHE NOCYCLE;
